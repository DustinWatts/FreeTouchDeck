<!DOCTYPE html>
<html lang="en">

<head>
	<link rel="shortcut icon" href="">
	<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
	<meta content="utf-8" http-equiv="encoding">
	<meta name=\"viewport\" content=\"width=device-width, initial-scale=1, user-scalable=no\" />
	<title>FreeTouchDeck Configurator</title>
	<style>
		body {
			text-align: center;
			font-family: verdana;
			color: #000088;
			width: 99%;
		}

		.pageloading{
			background-color: #ffffff;
			color: #1fa3ec;
			line-height: 2.4rem;
			font-size: 1.2rem;
			width: 100%;
			position: absolute;
			top: 32%;
		}

		a {
			color: #000088;
		}

		a:hover {
  			color: #1fa3ec;
		}

		.form button {
			border: 0;
			border-radius: 0.3rem;
			background-color: #1fa3ec;
			color: #fff;
			line-height: 2.4rem;
			font-size: 1.2rem;
			width: 100%;
		}

		.tab {
			overflow: hidden;
			border: 1px solid #ccc;
			background-color: #8cd7ff;
			width: 100%;
		}

		.tab button {
			background-color: inherit;
			float: left;
			border: none;
			outline: none;
			cursor: pointer;
			padding: 14px 16px;
			transition: 0.3s;
			font-family: verdana;
			color: #000000;
		}

		.tab button:hover {
			background-color: #1fa3ec;
		}

		.tab button.active {
			background-color: #1fa3ec;
		}

		.tabcontent {
			display: none;
			padding: 6px 12px;
			border: 1px solid #1fa3ec;
			border-top: none;
		}

		.ball-loader {
			width: 80px;
			height: 16.6666666667px;
			position: absolute;
			top: 40%;
			left: 50%;
			-webkit-transform: translateX(-50%) translateY(-50%);
			transform: translateX(-50%) translateY(-50%);
		}

		.ball-loader-ball {
			will-change: transform;
			height: 16.6666666667px;
			width: 16.6666666667px;
			border-radius: 50%;
			background-color: #1fa3ec;
			position: absolute;
			-webkit-animation: grow .7s ease-in-out infinite alternate;
			animation: grow .7s ease-in-out infinite alternate;
		}
		
		.ball-loader-ball.ball1 {
			left: 0;
			-webkit-transform-origin: 100% 50%;
			transform-origin: 100% 50%;
		}
		.ball-loader-ball.ball2 {
			left: 50%;
			-webkit-transform: translateX(-50%) scale(1);
			transform: translateX(-50%) scale(1);
			-webkit-animation-delay: 0.33s;
			animation-delay: 0.33s;
		}
		.ball-loader-ball.ball3 {
			right: 0;
			-webkit-animation-delay: 0.66s;
			animation-delay: 0.66s;
		}

		@-webkit-keyframes grow {
			to {
				-webkit-transform: translateX(-50%) scale(0);
				transform: translateX(-50%) scale(0);
			}
		}

		@keyframes grow {
			to {
				-webkit-transform: translateX(-50%) scale(0);
				transform: translateX(-50%) scale(0);
			}
		}

	</style>

	<script src="jquery-3.5.1.slim.min.js"></script>

</head>

<body>
	<!-- <div id="contentloading" class="pageloading"> Loading the configurator.</div> -->

	<div id="contentloading" class="pageloading">
		Loading Configurator
	</div>

	<div id="ball-loader" class="ball-loader">

		<div class="ball-loader-ball ball1"></div>
		<div class="ball-loader-ball ball2"></div>
		<div class="ball-loader-ball ball3"></div>
	</div>

	<div id="maincontent" style="display: none;">
	<h1>FreeTouchDeck Configurator</h1>
	<form class="form" method="post" action='/upload' id="uploadfile" enctype="multipart/form-data"></form>
	<form class="form" method="post" action='/uploadJSON' id="uploadjsonfile" enctype="multipart/form-data"></form>
	
	<!-- Menu -->
	<div class="tab">
		<button class="tablinks" onclick="openMenu(event, 'wifi')">WiFi</button>
		<button class="tablinks" onclick="openMenu(event, 'general')">Settings</button>
		<button class="tablinks" onclick="openMenu(event, 'home')">Home Menu</button>
		<button class="tablinks" onclick="openMenu(event, 'menu1')">Menu 1</button>
		<button class="tablinks" onclick="openMenu(event, 'menu2')">Menu 2</button>
		<button class="tablinks" onclick="openMenu(event, 'menu3')">Menu 3</button>
		<button class="tablinks" onclick="openMenu(event, 'menu4')">Menu 4</button>
		<button class="tablinks" onclick="openMenu(event, 'menu5')">Menu 5</button>
		<button class="tablinks" onclick="openMenu(event, 'uploadimage')">Upload logo</button>
		
		<form method='post' action='/restart'>
		<button style="float: right;" onclick="return confirm('Are you sure? Unsaved configuration will be lost!')" class="tablinks"> Restart </button></form>

		<button style="float: right;" class="tablinks" onclick="openMenu(event, 'info')">Info</button>

		<button style="float: right;" class="tablinks" onclick="openMenu(event, 'editor')">File editor</button>

		<button style="float: right;" class="tablinks" onclick="openMenu(event, 'uploadjson')">Upload Menu Config</button>

	</div>

	<!-- Tab Intro -->
	<div id="intro" class="tabcontent">
		<h3>Welcome</h3>
		<p>
			Welcome to the configurator! Select an option/page from the top menu. If you have any questions, join my 
			Discord server: <a href="https://discord.gg/RE3XevS" target="_blank">https://discord.gg/RE3XevS</a><br/>
			A guide on how to use the configurator can be found here: <a href="https://github.com/DustinWatts/FreeTouchDeck/wiki/3.-The-Configurator" target="_blank"> FreeTouchDeck Wiki</a>
		</p>
	</div>
	<!-- Tab WiFi -->
	<div id="wifi" class="tabcontent">
		<div style="float: right; font-size: 11px" ><a href="/download?file=wificonfig.json">download wificonfig.json</a></div><br>
		<h3>WiFi Settings</h3>
		<p>
			<form method='post' id="savewifi" action='/saveconfig'>



		<div style="font-family: Arial, Helvetica, Sans-Serif; Color: #000088;">

			<label for="ssid">WiFi SSID:</label><br>
    		<input type="text" id="ssid" name="ssid"><br><br>

    		<label for="password">WiFi Password:</label><br>
    		<input type="password" id="password" name="password" autocomplete="new-password"><br>
			<input type="checkbox" onclick="togglepassword()">Show Password <br><br>

			&nbsp;&nbsp;Wifi Mode:&nbsp;
				<select class="wifimode" id='wifimode' name='wifimode'>
					<option value="WIFI_STA">Station</option>
  					<option value="WIFI_AP">Access Point</option>
				</select><br>

				<label for="wifihostname">Wifi Hostname:</label>
    			<input type="text" id="wifihostname" name="wifihostname"><br>

				&nbsp;&nbsp;Connection attempts:&nbsp;
				<select class="attempts" id='attempts' name='attempts'>
					<option value="5">5</option>
  					<option value="10">10</option>
  					<option value="15">15</option>
  					<option value="20">20</option>
				</select><br>

				&nbsp;&nbsp;Delay between attempts:&nbsp;
				<select class="attemptdelay" id='attemptdelay' name='attemptdelay'>
					<option value="100">100 ms</option>
  					<option value="500">500 ms</option>
  					<option value="1000">1000 ms</option>
  					<option value="2000">2000 ms</option>
				</select><br>
		</div>

		<div class="form" style="width: 50%; text-align: : center; margin: auto;">
				<input type="hidden" id='save' name='save' value="wifi">
				<br /><button style='cursor: pointer;' form="savewifi" type='save'>Save WiFi Config</button></div>
		</form>
	
	</div>
	</p>
	</div>
	<!-- Tab General -->
	<div id="general" class="tabcontent">
		<div style="float: right; font-size: 11px" ><a href="/download?file=general.json">download general.json</a></div><br>
		<h3>General Settings</h3>
		<p>
		<div style="font-family: Arial, Helvetica, Sans-Serif; Color: #000088;">
			<h2>Colors</h2>
		</div>

		<form method='post' id="generalconfig" action='/saveconfig'>
			<div style="font-family: Arial, Helvetica, Sans-Serif; Color: #000088;">
				&nbsp;&nbsp;Menu Button Colour:&nbsp;
				<input style='width: 100px; height: 30px; padding:1px; border-radius:0.3rem;' id='menubuttoncolor'
					name='menubuttoncolor' type="color" value=''>
				&nbsp;&nbsp;Function Button Colour:&nbsp;
				<input style='width: 100px; height: 30px; padding:1px; border-radius:0.3rem;' id='functionbuttoncolor'
					name='functionbuttoncolor' type="color" value=''>
				&nbsp;&nbsp;Latch Colour:&nbsp;
				<input style='width: 100px; height: 30px; padding:1px; border-radius:0.3rem;' id='latchcolor'
					name='latchcolor' type="color" value=''>
				&nbsp;&nbsp;Background Colour:&nbsp;
				<input style='width: 100px; height: 30px; padding:1px; border-radius:0.3rem;' id='background'
					name='background' type="color" value=''></div><br>

				<div style="font-family: Arial, Helvetica, Sans-Serif; Color: #000088;">
					<h2>Deep Sleep</h2>
				</div>

				&nbsp;&nbsp;Deep Sleep:&nbsp;
				<select class="sleepenable" id='sleepenable' name='sleepenable'>
					<option value="true">Enabled</option>
  					<option value="false">Disabled</option>
				</select>
				&nbsp;&nbsp;Deep Sleep Timer:&nbsp;
				<select class="sleeptimer" id='sleeptimer' name='sleeptimer'>
					<option value="10">10 Minutes</option>
  					<option value="20">20 Minutes</option>
  					<option value="30">30 Minutes</option>
  					<option value="60">60 Minutes</option>
				</select>

				<div style="font-family: Arial, Helvetica, Sans-Serif; Color: #000088;">
					<h2>Sound</h2>
				</div>
				
				&nbsp;&nbsp;Beep on Touch:&nbsp;
				<select class="sleepenable" id='beep' name='beep'>
					<option value="true">Enabled</option>
  					<option value="false">Disabled</option>
				</select>

				<div style="font-family: Arial, Helvetica, Sans-Serif; Color: #000088;">
					<h2>FreeTouchDeck Helpers</h2>
				</div>
				
				&nbsp;&nbsp;Modifier 1:&nbsp;
				<select class="modifier1" id='modifier1' name='modifier1'>
					<option value="0">None</option>
					<option value="128">CTRL</option>
  					<option value="129">SHIFT</option>
  					<option value="130">ALT</option>
  					<option value="131">GUI</option>
				</select>

				&nbsp;&nbsp;Modifier 2:&nbsp;
				<select class="modifier2" id='modifier2' name='modifier2'>
					<option value="0">None</option>
					<option value="128">CTRL</option>
  					<option value="129">SHIFT</option>
  					<option value="130">ALT</option>
  					<option value="131">GUI</option>
				</select>

				&nbsp;&nbsp;Modifier 3:&nbsp;
				<select class="modifier3" id='modifier3' name='modifier3'>
					<option value="0">None</option>
					<option value="128">CTRL</option>
  					<option value="129">SHIFT</option>
  					<option value="130">ALT</option>
  					<option value="131">GUI</option>
				</select>

				<br>

				&nbsp;&nbsp;Delay after helper (ms):&nbsp;
				<select class="helperdelay" id='helperdelay' name='helperdelay'>
					<option value="0">0</option>
					<option value="100">100</option>
  					<option value="200">200</option>
  					<option value="500">500</option>
  					<option value="1000">1000</option>
				</select>

			<div class="form" style="width: 50%; text-align: : center; margin: auto;">
				<input type="hidden" id='save' name='save' value="general">
				<br /><button style='cursor: pointer;' form="generalconfig" type='save'>Save General Config</button></div>
		</form>
	</div>
	</p>
	</div>
	<!-- Tab Home Menu -->
	<div id="home" class="tabcontent">
		<div style="float: right; font-size: 11px" ><a href="/download?file=homescreen.json">download homescreen.json</a></div><br>
		<h3>Home Menu</h3>
		<p>
		<form method='post' id="savehomescreen" action='/saveconfig'>
			<table style="height: 170px; width: 100%; border: 1px solid #000088; text-align: left;">
				<tbody>
					<tr>
						<td style="width: 33%;">
							Menu 1
							<br />Image:
							<select class="images" id='homescreenlogo0' name='homescreenlogo0'></select>

						</td>
						<td style="width: 33%;">
							Menu 2
							<br />Image:
							<select class="images" id='homescreenlogo1' name='homescreenlogo1'></select>
						</td>
						<td style="width: 33%;">
							Menu 3
							<br />Image:
							<select class="images" id='homescreenlogo2' name='homescreenlogo2'></select>
						</td>
					</tr>
					<tr>
						<td style="width: 33%;">
							Menu 4
							<br />Image:
							<select class="images" id='homescreenlogo3' name='homescreenlogo3'></select>
						</td>
						<td style="width: 33%;">
							Menu 5
							<br />Image:
							<select class="images" id='homescreenlogo4' name='homescreenlogo4'></select>
						</td>
						<td style="width: 33%;">
							Settings Menu
							<br />Image:
							<select class="images" id='homescreenlogo5' name='homescreenlogo5'></select>
						</td>
					</tr>
				</tbody>
			</table>
			<div class="form" style="width: 50%; text-align: : center; margin: auto;">
				<input type="hidden" id='save' name='save' value="homescreen">
				<br /><button style='cursor: pointer;' form="savehomescreen" type='save'>Save Home Screen
					Config</button>
		</form>
	</div>
	</form>
	</p>
	</div>
	</p>
	</div>
	<!-- Tab Menu 1 -->
	<div id="menu1" class="tabcontent">
		<div style="float: right; font-size: 11px" ><a href="/download?file=menu1.json">download menu1.json</a></div><br>
		<h3>Menu 1</h3>
		<p>
		<form method='post' id="savemenu1" action='/saveconfig'>
			<table style="height: 170px; width: 100%; border: 1px solid #000088; text-align: left;">
				<tbody>
					<tr>
						<td style="width: 33%;">
							Button 1
							<br />Image:
							<select class="images" id='screen1logo0' name='screen1logo0'></select>
							<br />Action 1:
							<select class="actions" id='screen1button0action0' name='screen1button0action0'></select>
							<select class="actions" id='screen1button0value0' name='screen1button0value0'></select>
							<br />Action 2:
							<select class="actions" id='screen1button0action1' name='screen1button0action1'></select>
							<select class="actions" id='screen1button0value1' name='screen1button0value1'></select>
							<br />Action 3:
							<select class="actions" id='screen1button0action2' name='screen1button0action2'></select>
							<select class="actions" id='screen1button0value2' name='screen1button0value2'></select>
							<br />Latch? <input type="checkbox"id="screen1button0latch" name="screen1button0latch"> latch to: <select class="images" id='screen1latchlogo0' name='screen1latchlogo0'></select>
						</td>
						<td style="width: 33%;">
							Button 2
							<br />Image:
							<select class="images" id='screen1logo1' name='screen1logo1'></select>
							<br />Action 1:
							<select class="actions" id='screen1button1action0' name='screen1button1action0'></select>
							<select class="actions" id='screen1button1value0' name='screen1button1value0'></select>
							<br />Action 2:
							<select class="actions" id='screen1button1action1' name='screen1button1action1'></select>
							<select class="actions" id='screen1button1value1' name='screen1button1value1'></select>
							<br />Action 3:
							<select class="actions" id='screen1button1action2' name='screen1button1action2'></select>
							<select class="actions" id='screen1button1value2' name='screen1button1value2'></select>
							<br />Latch? <input type="checkbox"id="screen1button1latch" name="screen1button1latch"> latch to: <select class="images" id='screen1latchlogo1' name='screen1latchlogo1'></select>
						</td>
						<td style="width: 33%;">
							Button 3
							<br />Image:
							<select class="images" id='screen1logo2' name='screen1logo2'></select>
							<br />Action 1:
							<select class="actions" id='screen1button2action0' name='screen1button2action0'></select>
							<select class="actions" id='screen1button2value0' name='screen1button2value0'></select>
							<br />Action 2:
							<select class="actions" id='screen1button2action1' name='screen1button2action1'></select>
							<select class="actions" id='screen1button2value1' name='screen1button2value1'></select>
							<br />Action 3:
							<select class="actions" id='screen1button2action2' name='screen1button2action2'></select>
							<select class="actions" id='screen1button2value2' name='screen1button2value2'></select>
							<br />Latch? <input type="checkbox"id="screen1button2latch" name="screen1button2latch"> latch to: <select class="images" id='screen1latchlogo2' name='screen1latchlogo2'></select>
						</td>
					</tr>
					<tr>
						<td style="width: 33%;">
							Button 4
							<br />Image:
							<select class="images" id='screen1logo3' name='screen1logo3'></select>
							<br />Action 1:
							<select class="actions" id='screen1button3action0' name='screen1button3action0'></select>
							<select class="actions" id='screen1button3value0' name='screen1button3value0'></select>
							<br />Action 2:
							<select class="actions" id='screen1button3action1' name='screen1button3action1'></select>
							<select class="actions" id='screen1button3value1' name='screen1button3value1'></select>
							<br />Action 3:
							<select class="actions" id='screen1button3action2' name='screen1button3action2'></select>
							<select class="actions" id='screen1button3value2' name='screen1button3value2'></select>
							<br />Latch? <input type="checkbox"id="screen1button3latch" name="screen1button3latch"> latch to: <select class="images" id='screen1latchlogo3' name='screen1latchlogo3'></select>
						</td>
						<td style="width: 33%;">
							Button 5
							<br />Image:
							<select class="images" id='screen1logo4' name='screen1logo4'></select>
							<br />Action 1:
							<select class="actions" id='screen1button4action0' name='screen1button4action0'></select>
							<select class="actions" id='screen1button4value0' name='screen1button4value0'></select>
							<br />Action 2:
							<select class="actions" id='screen1button4action1' name='screen1button4action1'></select>
							<select class="actions" id='screen1button4value1' name='screen1button4value1'></select>
							<br />Action 3:
							<select class="actions" id='screen1button4action2' name='screen1button4action2'></select>
							<select class="actions" id='screen1button4value2' name='screen1button4value2'></select>
							<br />Latch? <input type="checkbox"id="screen1button4latch" name="screen1button4latch"> latch to: <select class="images" id='screen1latchlogo4' name='screen1latchlogo4'></select>
						</td>
						<td style="width: 33%;">
							Button 6
							<br />Image:
							<select class="images" id='screen1logo5' name='screen1logo5'>
								<option value='home.bmp'>home.bmp</option>
							</select>
						</td>

					</tr>
				</tbody>
			</table>
			<div class="form" style="width: 50%; text-align: : center; margin: auto;">
				<input type="hidden" id='save' name='save' value="menu1">
				<br /><button style='cursor: pointer;' form="savemenu1" type='save'>Save Menu 1 Config</button>
		</form>
	</div>
	</p>
	</div>
	<!-- Tab Menu 2 -->
	<div id="menu2" class="tabcontent">
		<div style="float: right; font-size: 11px" ><a href="/download?file=menu2.json">download menu2.json</a></div><br>
		<h3>Menu 2</h3>
		<p>
		<form method='post' id="savemenu2" action='/saveconfig'>
			<table style="height: 170px; width: 100%; border: 1px solid #000088; text-align: left;">
				<tbody>
					<tr>
						<td style="width: 33%;">
							Button 1
							<br />Image:
							<select class="images" id='screen2logo0' name='screen2logo0'></select>
							<br />Action 1:
							<select class="actions" id='screen2button0action0' name='screen2button0action0'></select>
							<select class="actions" id='screen2button0value0' name='screen2button0value0'></select>
							<br />Action 2:
							<select class="actions" id='screen2button0action1' name='screen2button0action1'></select>
							<select class="actions" id='screen2button0value1' name='screen2button0value1'></select>
							<br />Action 3:
							<select class="actions" id='screen2button0action2' name='screen2button0action2'></select>
							<select class="actions" id='screen2button0value2' name='screen2button0value2'></select>
							<br />Latch? <input type="checkbox"id="screen2button0latch" name="screen2button0latch"> latch to: <select class="images" id='screen2latchlogo0' name='screen2latchlogo0'></select>
						</td>
						<td style="width: 33%;">
							Button 2
							<br />Image:
							<select class="images" id='screen2logo1' name='screen2logo1'></select>
							<br />Action 1:
							<select class="actions" id='screen2button1action0' name='screen2button1action0'></select>
							<select class="actions" id='screen2button1value0' name='screen2button1value0'></select>
							<br />Action 2:
							<select class="actions" id='screen2button1action1' name='screen2button1action1'></select>
							<select class="actions" id='screen2button1value1' name='screen2button1value1'></select>
							<br />Action 3:
							<select class="actions" id='screen2button1action2' name='screen2button1action2'></select>
							<select class="actions" id='screen2button1value2' name='screen2button1value2'></select>
							<br />Latch? <input type="checkbox"id="screen2button1latch" name="screen2button1latch"> latch to: <select class="images" id='screen2latchlogo1' name='screen2latchlogo1'></select>
						</td>
						<td style="width: 33%;">
							Button 3
							<br />Image:
							<select class="images" id='screen2logo2' name='screen2logo2'></select>
							<br />Action 1:
							<select class="actions" id='screen2button2action0' name='screen2button2action0'></select>
							<select class="actions" id='screen2button2value0' name='screen2button2value0'></select>
							<br />Action 2:
							<select class="actions" id='screen2button2action1' name='screen2button2action1'></select>
							<select class="actions" id='screen2button2value1' name='screen2button2value1'></select>
							<br />Action 3:
							<select class="actions" id='screen2button2action2' name='screen2button2action2'></select>
							<select class="actions" id='screen2button2value2' name='screen2button2value2'></select>
							<br />Latch? <input type="checkbox"id="screen2button2latch" name="screen2button2latch"> latch to: <select class="images" id='screen2latchlogo2' name='screen2latchlogo2'></select>
						</td>
					</tr>
					<tr>
						<td style="width: 33%;">
							Button 4
							<br />Image:
							<select class="images" id='screen2logo3' name='screen2logo3'></select>
							<br />Action 1:
							<select class="actions" id='screen2button3action0' name='screen2button3action0'></select>
							<select class="actions" id='screen2button3value0' name='screen2button3value0'></select>
							<br />Action 2:
							<select class="actions" id='screen2button3action1' name='screen2button3action1'></select>
							<select class="actions" id='screen2button3value1' name='screen2button3value1'></select>
							<br />Action 3:
							<select class="actions" id='screen2button3action2' name='screen2button3action2'></select>
							<select class="actions" id='screen2button3value2' name='screen2button3value2'></select>
							<br />Latch? <input type="checkbox"id="screen2button3latch" name="screen2button3latch"> latch to: <select class="images" id='screen2latchlogo3' name='screen2latchlogo3'></select>
						</td>
						<td style="width: 33%;">
							Button 5
							<br />Image:
							<select class="images" id='screen2logo4' name='screen2logo4'></select>
							<br />Action 1:
							<select class="actions" id='screen2button4action0' name='screen2button4action0'></select>
							<select class="actions" id='screen2button4value0' name='screen2button4value0'></select>
							<br />Action 2:
							<select class="actions" id='screen2button4action1' name='screen2button4action1'></select>
							<select class="actions" id='screen2button4value1' name='screen2button4value1'></select>
							<br />Action 3:
							<select class="actions" id='screen2button4action2' name='screen2button4action2'></select>
							<select class="actions" id='screen2button4value2' name='screen2button4value2'></select>
							<br />Latch? <input type="checkbox"id="screen2button4latch" name="screen2button4latch"> latch to: <select class="images" id='screen2latchlogo4' name='screen2latchlogo4'></select>
						</td>
						<td style="width: 33%;">
							Button 6
							<br />Image:
							<select class="images" id='screen2logo5' name='screen2logo5'>
								<option value='home.bmp'>home.bmp</option>
							</select>
						</td>

					</tr>
				</tbody>
			</table>
			<div class="form" style="width: 50%; text-align: : center; margin: auto;">
				<input type="hidden" id='save' name='save' value="menu2">
				<br /><button style='cursor: pointer;' form="savemenu2" type='save'>Save Menu 2 Config</button>
		</form>
	</div>
	</p>
	</div>
	<!-- Tab Menu 3 -->
	<div id="menu3" class="tabcontent">
		<div style="float: right; font-size: 11px" ><a href="/download?file=menu3.json">download menu3.json</a></div><br>
		<h3>Menu 3</h3>
		<p>
		<form method='post' id="savemenu3" action='/saveconfig'>
			<table style="height: 170px; width: 100%; border: 1px solid #000088; text-align: left;">
				<tbody>
					<tr>
						<td style="width: 33%;">
							Button 1
							<br />Image:
							<select class="images" id='screen3logo0' name='screen3logo0'></select>
							<br />Action 1:
							<select class="actions" id='screen3button0action0' name='screen3button0action0'></select>
							<select class="actions" id='screen3button0value0' name='screen3button0value0'></select>
							<br />Action 2:
							<select class="actions" id='screen3button0action1' name='screen3button0action1'></select>
							<select class="actions" id='screen3button0value1' name='screen3button0value1'></select>
							<br />Action 3:
							<select class="actions" id='screen3button0action2' name='screen3button0action2'></select>
							<select class="actions" id='screen3button0value2' name='screen3button0value2'></select>
							<br />Latch? <input type="checkbox"id="screen3button0latch" name="screen3button0latch"> latch to: <select class="images" id='screen3latchlogo0' name='screen3latchlogo0'></select>
						</td>
						<td style="width: 33%;">
							Button 2
							<br />Image:
							<select class="images" id='screen3logo1' name='screen3logo1'></select>
							<br />Action 1:
							<select class="actions" id='screen3button1action0' name='screen3button1action0'></select>
							<select class="actions" id='screen3button1value0' name='screen3button1value0'></select>
							<br />Action 2:
							<select class="actions" id='screen3button1action1' name='screen3button1action1'></select>
							<select class="actions" id='screen3button1value1' name='screen3button1value1'></select>
							<br />Action 3:
							<select class="actions" id='screen3button1action2' name='screen3button1action2'></select>
							<select class="actions" id='screen3button1value2' name='screen3button1value2'></select>
							<br />Latch? <input type="checkbox"id="screen3button1latch" name="screen3button1latch"> latch to: <select class="images" id='screen3latchlogo1' name='screen3latchlogo1'></select>
						</td>
						<td style="width: 33%;">
							Button 3
							<br />Image:
							<select class="images" id='screen3logo2' name='screen3logo2'></select>
							<br />Action 1:
							<select class="actions" id='screen3button2action0' name='screen3button2action0'></select>
							<select class="actions" id='screen3button2value0' name='screen3button2value0'></select>
							<br />Action 2:
							<select class="actions" id='screen3button2action1' name='screen3button2action1'></select>
							<select class="actions" id='screen3button2value1' name='screen3button2value1'></select>
							<br />Action 3:
							<select class="actions" id='screen3button2action2' name='screen3button2action2'></select>
							<select class="actions" id='screen3button2value2' name='screen3button2value2'></select>
							<br />Latch? <input type="checkbox"id="screen3button2latch" name="screen3button2latch"> latch to: <select class="images" id='screen3latchlogo2' name='screen3latchlogo2'></select>
						</td>
					</tr>
					<tr>
						<td style="width: 33%;">
							Button 4
							<br />Image:
							<select class="images" id='screen3logo3' name='screen3logo3'></select>
							<br />Action 1:
							<select class="actions" id='screen3button3action0' name='screen3button3action0'></select>
							<select class="actions" id='screen3button3value0' name='screen3button3value0'></select>
							<br />Action 2:
							<select class="actions" id='screen3button3action1' name='screen3button3action1'></select>
							<select class="actions" id='screen3button3value1' name='screen3button3value1'></select>
							<br />Action 3:
							<select class="actions" id='screen3button3action2' name='screen3button3action2'></select>
							<select class="actions" id='screen3button3value2' name='screen3button3value2'></select>
							<br />Latch? <input type="checkbox"id="screen3button3latch" name="screen3button3latch">  latch to: <select class="images" id='screen3latchlogo3' name='screen3latchlogo3'></select>
						</td>
						<td style="width: 33%;">
							Button 5
							<br />Image:
							<select class="images" id='screen3logo4' name='screen3logo4'></select>
							<br />Action 1:
							<select class="actions" id='screen3button4action0' name='screen3button4action0'></select>
							<select class="actions" id='screen3button4value0' name='screen3button4value0'></select>
							<br />Action 2:
							<select class="actions" id='screen3button4action1' name='screen3button4action1'></select>
							<select class="actions" id='screen3button4value1' name='screen3button4value1'></select>
							<br />Action 3:
							<select class="actions" id='screen3button4action2' name='screen3button4action2'></select>
							<select class="actions" id='screen3button4value2' name='screen3button4value2'></select>
							<br />Latch? <input type="checkbox"id="screen3button4latch" name="screen3button4latch"> latch to: <select class="images" id='screen3latchlogo4' name='screen3latchlogo4'></select>
						</td>
						<td style="width: 33%;">
							Button 6
							<br />Image:
							<select class="images" id='screen3logo5' name='screen3logo5'>
								<option value='home.bmp'>home.bmp</option>
							</select>
						</td>

					</tr>
				</tbody>
			</table>
			<div class="form" style="width: 50%; text-align: : center; margin: auto;">
				<input type="hidden" id='save' name='save' value="menu3">
				<br /><button style='cursor: pointer;' form="savemenu3" type='save'>Save Menu 3 Config</button>
		</form>
	</div>
	</p>
	</div>
	<!-- Tab Menu 4 -->
	<div id="menu4" class="tabcontent">
		<div style="float: right; font-size: 11px" ><a href="/download?file=menu4.json">download menu4.json</a></div><br>
		<h3>Menu 4</h3>
		<p>
		<form method='post' id="savemenu4" action='/saveconfig'>
			<table style="height: 170px; width: 100%; border: 1px solid #000088; text-align: left;">
				<tbody>
					<tr>
						<td style="width: 33%;">
							Button 1
							<br />Image:
							<select class="images" id='screen4logo0' name='screen4logo0'></select>
							<br />Action 1:
							<select class="actions" id='screen4button0action0' name='screen4button0action0'></select>
							<select class="actions" id='screen4button0value0' name='screen4button0value0'></select>
							<br />Action 2:
							<select class="actions" id='screen4button0action1' name='screen4button0action1'></select>
							<select class="actions" id='screen4button0value1' name='screen4button0value1'></select>
							<br />Action 3:
							<select class="actions" id='screen4button0action2' name='screen4button0action2'></select>
							<select class="actions" id='screen4button0value2' name='screen4button0value2'></select>
							<br />Latch? <input type="checkbox"id="screen4button0latch" name="screen4button0latch"> latch to: <select class="images" id='screen4latchlogo0' name='screen4latchlogo0'></select> 
						</td>
						<td style="width: 33%;">
							Button 2
							<br />Image:
							<select class="images" id='screen4logo1' name='screen4logo1'></select>
							<br />Action 1:
							<select class="actions" id='screen4button1action0' name='screen4button1action0'></select>
							<select class="actions" id='screen4button1value0' name='screen4button1value0'></select>
							<br />Action 2:
							<select class="actions" id='screen4button1action1' name='screen4button1action1'></select>
							<select class="actions" id='screen4button1value1' name='screen4button1value1'></select>
							<br />Action 3:
							<select class="actions" id='screen4button1action2' name='screen4button1action2'></select>
							<select class="actions" id='screen4button1value2' name='screen4button1value2'></select>
							<br />Latch? <input type="checkbox"id="screen4button1latch" name="screen4button1latch"> latch to: <select class="images" id='screen4latchlogo1' name='screen4latchlogo1'></select> 
						</td>
						<td style="width: 33%;">
							Button 3
							<br />Image:
							<select class="images" id='screen4logo2' name='screen4logo2'></select>
							<br />Action 1:
							<select class="actions" id='screen4button2action0' name='screen4button2action0'></select>
							<select class="actions" id='screen4button2value0' name='screen4button2value0'></select>
							<br />Action 2:
							<select class="actions" id='screen4button2action1' name='screen4button2action1'></select>
							<select class="actions" id='screen4button2value1' name='screen4button2value1'></select>
							<br />Action 3:
							<select class="actions" id='screen4button2action2' name='screen4button2action2'></select>
							<select class="actions" id='screen4button2value2' name='screen4button2value2'></select>
							<br />Latch? <input type="checkbox"id="screen4button2latch" name="screen4button2latch"> latch to: <select class="images" id='screen4latchlogo2' name='screen4latchlogo2'></select> 
						</td>
					</tr>
					<tr>
						<td style="width: 33%;">
							Button 4
							<br />Image:
							<select class="images" id='screen4logo3' name='screen4logo3'></select>
							<br />Action 1:
							<select class="actions" id='screen4button3action0' name='screen4button3action0'></select>
							<select class="actions" id='screen4button3value0' name='screen4button3value0'></select>
							<br />Action 2:
							<select class="actions" id='screen4button3action1' name='screen4button3action1'></select>
							<select class="actions" id='screen4button3value1' name='screen4button3value1'></select>
							<br />Action 3:
							<select class="actions" id='screen4button3action2' name='screen4button3action2'></select>
							<select class="actions" id='screen4button3value2' name='screen4button3value2'></select>
							<br />Latch? <input type="checkbox"id="screen4button3latch" name="screen4button3latch"> latch to: <select class="images" id='screen4latchlogo3' name='screen4latchlogo3'></select> 
						</td>
						<td style="width: 33%;">
							Button 5
							<br />Image:
							<select class="images" id='screen4logo4' name='screen4logo4'></select>
							<br />Action 1:
							<select class="actions" id='screen4button4action0' name='screen4button4action0'></select>
							<select class="actions" id='screen4button4value0' name='screen4button4value0'></select>
							<br />Action 2:
							<select class="actions" id='screen4button4action1' name='screen4button4action1'></select>
							<select class="actions" id='screen4button4value1' name='screen4button4value1'></select>
							<br />Action 3:
							<select class="actions" id='screen4button4action2' name='screen4button4action2'></select>
							<select class="actions" id='screen4button4value2' name='screen4button4value2'></select>
							<br />Latch? <input type="checkbox"id="screen4button4latch" name="screen4button4latch"> latch to: <select class="images" id='screen4latchlogo4' name='screen4latchlogo4'></select> 
						</td>
						<td style="width: 33%;">
							Button 6
							<br />Image:
							<select class="images" id='screen4logo5' name='screen4logo5'>
								<option value='home.bmp'>home.bmp</option>
							</select>
						</td>

					</tr>
				</tbody>
			</table>
			<div class="form" style="width: 50%; text-align: : center; margin: auto;">
				<input type="hidden" id='save' name='save' value="menu4">
				<br /><button style='cursor: pointer;' form="savemenu4" type='save'>Save Menu 4 Config</button>
		</form>
	</div>
	</p>
	</div>
	<!-- Tab Menu 5 -->
	<div id="menu5" class="tabcontent">
		<div style="float: right; font-size: 11px" ><a href="/download?file=menu5.json">download menu5.json</a></div><br>
		<h3>Menu 5</h3>
		<p>
		<form method='post' id="savemenu5" action='/saveconfig'>
			<table style="height: 170px; width: 100%; border: 1px solid #000088; text-align: left;">
				<tbody>
					<tr>
						<td style="width: 33%;">
							Button 1
							<br />Image:
							<select class="images" id='screen5logo0' name='screen5logo0'></select>
							<br />Action 1:
							<select class="actions" id='screen5button0action0' name='screen5button0action0'></select>
							<select class="actions" id='screen5button0value0' name='screen5button0value0'></select>
							<br />Action 2:
							<select class="actions" id='screen5button0action1' name='screen5button0action1'></select>
							<select class="actions" id='screen5button0value1' name='screen5button0value1'></select>
							<br />Action 3:
							<select class="actions" id='screen5button0action2' name='screen5button0action2'></select>
							<select class="actions" id='screen5button0value2' name='screen5button0value2'></select>
							<br />Latch? <input type="checkbox"id="screen5button0latch" name="screen5button0latch"> latch to: <select class="images" id='screen5latchlogo0' name='screen5latchlogo0'></select> 
						</td>
						<td style="width: 33%;">
							Button 2
							<br />Image:
							<select class="images" id='screen5logo1' name='screen5logo1'></select>
							<br />Action 1:
							<select class="actions" id='screen5button1action0' name='screen5button1action0'></select>
							<select class="actions" id='screen5button1value0' name='screen5button1value0'></select>
							<br />Action 2:
							<select class="actions" id='screen5button1action1' name='screen5button1action1'></select>
							<select class="actions" id='screen5button1value1' name='screen5button1value1'></select>
							<br />Action 3:
							<select class="actions" id='screen5button1action2' name='screen5button1action2'></select>
							<select class="actions" id='screen5button1value2' name='screen5button1value2'></select>
							<br />Latch? <input type="checkbox"id="screen5button1latch" name="screen5button1latch"> latch to: <select class="images" id='screen5latchlogo1' name='screen5latchlogo1'></select> 
						</td>
						<td style="width: 33%;">
							Button 3
							<br />Image:
							<select class="images" id='screen5logo2' name='screen5logo2'></select>
							<br />Action 1:
							<select class="actions" id='screen5button2action0' name='screen5button2action0'></select>
							<select class="actions" id='screen5button2value0' name='screen5button2value0'></select>
							<br />Action 2:
							<select class="actions" id='screen5button2action1' name='screen5button2action1'></select>
							<select class="actions" id='screen5button2value1' name='screen5button2value1'></select>
							<br />Action 3:
							<select class="actions" id='screen5button2action2' name='screen5button2action2'></select>
							<select class="actions" id='screen5button2value2' name='screen5button2value2'></select>
							<br />Latch? <input type="checkbox"id="screen5button2latch" name="screen5button2latch"> latch to: <select class="images" id='screen5latchlogo2' name='screen5latchlogo2'></select> 
						</td>
					</tr>
					<tr>
						<td style="width: 33%;">
							Button 4
							<br />Image:
							<select class="images" id='screen5logo3' name='screen5logo3'></select>
							<br />Action 1:
							<select class="actions" id='screen5button3action0' name='screen5button3action0'></select>
							<select class="actions" id='screen5button3value0' name='screen5button3value0'></select>
							<br />Action 2:
							<select class="actions" id='screen5button3action1' name='screen5button3action1'></select>
							<select class="actions" id='screen5button3value1' name='screen5button3value1'></select>
							<br />Action 3:
							<select class="actions" id='screen5button3action2' name='screen5button3action2'></select>
							<select class="actions" id='screen5button3value2' name='screen5button3value2'></select>
							<br />Latch? <input type="checkbox"id="screen5button3latch" name="screen5button3latch"> latch to: <select class="images" id='screen5latchlogo3' name='screen5latchlogo3'></select> 
						</td>
						<td style="width: 33%;">
							Button 5
							<br />Image:
							<select class="images" id='screen5logo4' name='screen5logo4'></select>
							<br />Action 1:
							<select class="actions" id='screen5button4action0' name='screen5button4action0'></select>
							<select class="actions" id='screen5button4value0' name='screen5button4value0'></select>
							<br />Action 2:
							<select class="actions" id='screen5button4action1' name='screen5button4action1'></select>
							<select class="actions" id='screen5button4value1' name='screen5button4value1'></select>
							<br />Action 3:
							<select class="actions" id='screen5button4action2' name='screen5button4action2'></select>
							<select class="actions" id='screen5button4value2' name='screen5button4value2'></select>
							<br />Latch? <input type="checkbox"id="screen5button4latch" name="screen5button4latch"> latch to: <select class="images" id='screen5latchlogo4' name='screen5latchlogo4'></select> 
						</td>
						<td style="width: 33%;">
							Button 6
							<br />Image:
							<select class="images" id='screen5logo5' name='screen5logo5'>
								<option value='home.bmp'>home.bmp</option>
							</select>
						</td>

					</tr>
				</tbody>
			</table>
			<div class="form" style="width: 50%; text-align: : center; margin: auto;">
				<input type="hidden" id='save' name='save' value="menu5">
				<br /><button style='cursor: pointer;' form="savemenu5" type='save'>Save Menu 5 Config</button>
		</form>
	</div>
	</p>
	</div>
	<!-- Upload Logo -->
	<div id="uploadimage" class="tabcontent">
		<h3>Upload a new logo</h3>
		<div style="width: 70%; text-align: left; margin: auto;"> You can customize the logos that are used. If you upload a file with a name that already exists, the file is <u>overwritten</u>. You can only upload .bmp images. There images should be in a 24-bit RGB format and should be no more then 75x75 pixels. Smaller images are supported.<br/><br/>

		Images that are used for Elgato's Stream Deck are also supported. These should also be in a 24-bit RGB format. You can convert these using free online tools like <a href="https://online-converting.com/image/convert2bmp/" target="_blank">https://online-converting.com/image/convert2bmp/</a>.<br/><br/>

		FreeTouchDeck will check the colour of the first pixel in the image. If that pixel is black (#000000), all black pixels will be rendered as transparent and the button colour chosen in the "General" tab will be used. If that pixel has a colour, the button will have that colour so that the image blends in nicely.
	</div>
		<p>
		<div class="form" style="width: 10%; text-align: : center; margin: auto;">
			<input form="uploadfile" type="file" name="name" accept=".bmp" multiple><br /><br />
			<button style='cursor: pointer;' form="uploadfile" type="save">Upload</button>
		</div>
		</p>
	</div>

	<!-- File Editor -->
	<div id="editor" class="tabcontent">
		<h3>Remove files</h3>
			
			<div class="form" id=deletefilelist style="width: 20%; text-align: left; margin: auto;">
				
			</div>

	</div>

	 <!-- Upload JSON -->
	 <div id="uploadjson" class="tabcontent">
	    <h3>Upload a JSON Config File</h3>
	    <div style="width: 70%; text-align: left; margin: auto;"> You can upload a previously downloaded JSON file to save you some time from having to configure a whole menu. The filename should be the menu name (all lower-case), e.g. menu1.json for Menu 1, menu2.json for Menu 2, etc. It is also a good idea to validate your .json file if you made any manual modifications. You can do that using <a href="https://jsonlint.com/" target="_blank">JSONLint</a><br/><br/></div>
	    <p>
	    <div class="form" style="width: 10%; text-align: center; margin: auto;">
	        <input form="uploadjsonfile" type="file" name="name" accept=".json"><br /><br />
	        <button style='cursor: pointer;' form="uploadjsonfile" type="save">Upload JSON</button>
	    </div>
	    </p>
	</div>

	<!-- INFO -->
	 <div id="info" class="tabcontent">
	    <h3>About FreeTouchDeck</h3>
	    <div id ="infocontent" style="width: 40%; text-align: left; margin: auto;">
	    
	    </div>
	    <p>
	</div>
	</div>

</div>

	<!-- Password toggle -->
	<script>

		function togglepassword() {
		  var field = document.getElementById("password");
		  if (field.type === "password") {
		    field.type = "text";
		  } else {
		    field.type = "password";
		  }
		} 

	</script>

	<!-- Menu Handler -->
	<script>

		function openMenu(evt, menuitem) {
			// Declare all variables
			var i, tabcontent, tablinks;

			// Get all elements with class="tabcontent" and hide them
			tabcontent = document.getElementsByClassName("tabcontent");
			for (i = 0; i < tabcontent.length; i++) {
				tabcontent[i].style.display = "none";
			}

			// Get all elements with class="tablinks" and remove the class "active"
			tablinks = document.getElementsByClassName("tablinks");
			for (i = 0; i < tablinks.length; i++) {
				tablinks[i].className = tablinks[i].className.replace(" active", "");
			}

			// Show the current tab, and add an "active" class to the button that opened the tab
			document.getElementById(menuitem).style.display = "block";
			evt.currentTarget.className += " active";
		}

		document.addEventListener('DOMContentLoaded', openMenu(event, 'intro'), false);

	</script>

	<!-- Load the array with all the dropdown menu items --->

	<script>
		
			var selecteditems = [{
		    name: 'Do Nothing',
		    value: '0',
		    subitems: [{
		        name: '--',
		        value: '0'
		      }]
		  },
		  {
		    name: 'Delay',
		    value: '1',
		    subitems: [{
		        name: '100ms',
		        value: '100'
		      },
		      {
		        name: '200ms',
		        value: '200'
		      }
		      ,
		      {
		        name: '500ms',
		        value: '500'
		      }
		      ,
		      {
		        name: '1000ms',
		        value: '1000'
		      }
		    ]
		  },
		  {
		    name: 'Arrows and TAB',
		    value: '2',
		    subitems: [{
		        name: '--',
		        value: '0'
		      },
		      {
		        name: 'UP Arrow',
		        value: '1'
		      },
		      {
		        name: 'DOWN Arrow',
		        value: '2'
		      },
		      {
		        name: 'LEFT Arrow',
		        value: '3'
		      },
		      {
		        name: 'RIGHT Arrow',
		        value: '4'
		      },
		      {
		        name: 'Backspace',
		        value: '5'
		      },
		      {
		        name: 'TAB',
		        value: '6'
		      },
		      {
		        name: 'Return',
		        value: '7'
		      },
		      {
		        name: 'Page Up',
		        value: '8'
		      },
		      {
		        name: 'Page Down',
		        value: '9'
		      },
		      {
		        name: 'Delete',
		        value: '10'
		      },
		      {
		        name: 'PrintScreen',
		        value: '11'
		      },
		      {
		        name: 'ESC',
		        value: '12'
		      },
		      {
		        name: 'HOME',
		        value: '13'
		      },
		      {
		        name: 'END',
		        value: '14'
		      }
		      ]
		  },
		  {
		    name: 'Mediakey',
		    value: '3',
		    subitems: [{
		        name: 'Mute',
		        value: '1'
		      },
		      {
		        name: 'Volume Down',
		        value: '2'
		      },
		      {
		        name: 'Volume Up',
		        value: '3'
		      },
		      {
		        name: 'Play/Pause',
		        value: '4'
		      },
		      {
		        name: 'Stop',
		        value: '5'
		      },
			  {
   				name: 'Next',
   				value: '6'
			  },
			  {
			   name: 'Previous',
			   value: '7'
			  }
		    ]
		  },
		  {
		    name: 'Letters',
		    value: '4',
		    subitems: [{
		        name: '-space-',
		        value: ' '
		      },
		      {
		        name: 'a',
		        value: 'a'
		      },
		      {
		        name: 'b',
		        value: 'b'
		      },
		      {
		        name: 'c',
		        value: 'c'
		      },
		      {
		        name: 'd',
		        value: 'd'
		      },
		      {
		        name: 'e',
		        value: 'e'
		      },
		      {
		        name: 'f',
		        value: 'f'
		      },
		      {
		        name: 'g',
		        value: 'g'
		      },
		      {
		        name: 'h',
		        value: 'h'
		      },
		      {
		        name: 'i',
		        value: 'i'
		      },
		      {
		        name: 'j',
		        value: 'j'
		      },
		      {
		        name: 'k',
		        value: 'k'
		      },
		      {
		        name: 'l',
		        value: 'l'
		      },
		      {
		        name: 'm',
		        value: 'm'
		      },
		      {
		        name: 'n',
		        value: 'n'
		      },
		      {
		        name: 'o',
		        value: 'o'
		      },
		      {
		        name: 'p',
		        value: 'p'
		      },
		      {
		        name: 'q',
		        value: 'q'
		      },
		      {
		        name: 'r',
		        value: 'r'
		      },
		      {
		        name: 's',
		        value: 's'
		      },
		      {
		        name: 't',
		        value: 't'
		      },
		      {
		        name: 'u',
		        value: 'u'
		      },
		      {
		        name: 'v',
		        value: 'v'
		      },
		      {
		        name: 'w',
		        value: 'w'
		      },
		      {
		        name: 'x',
		        value: 'x'
		      },
		      {
		        name: 'y',
		        value: 'y'
		      },
		      {
		        name: 'z',
		        value: 'z'
		      }

		      ]
		  },
		  {
		    name: 'Option Keys',
		    value: '5',
		    subitems: [{
		        name: 'Left CTRL',
		        value: '1'
		      },
		      {
		        name: 'Left Shift',
		        value: '2'
		      },
		      {
		        name: 'Left ALT',
		        value: '3'
		      },
		      {
		        name: 'Left GUI',
		        value: '4'
		      },
		      {
		        name: 'Right CTRL',
		        value: '5'
		      },
		      {
		        name: 'Right Shift',
		        value: '6'
		      },
		      {
		        name: 'Right ALT',
		        value: '7'
		      },
		      {
		        name: 'Right GUI',
		        value: '8'
		      },
		      {
		        name: 'Release All',
		        value: '9'
		      }]
		  },
		  {
		    name: 'Function Keys',
		    value: '6',
		    subitems: [{
		        name: 'F1',
		        value: '1'
		      },
		      {
		        name: 'F2',
		        value: '2'
		      },
		      {
		        name: 'F3',
		        value: '3'
		      },
		      {
		        name: 'F4',
		        value: '4'
		      },
		      {
		        name: 'F5',
		        value: '5'
		      },
		      {
		        name: 'F6',
		        value: '6'
		      },
		      {
		        name: 'F7',
		        value: '7'
		      },
		      {
		        name: 'F8',
		        value: '8'
		      },
		      {
		        name: 'F9',
		        value: '9'
		      },
		      {
		        name: 'F10',
		        value: '10'
		      },
		      {
		        name: 'F11',
		        value: '11'
		      },
		      {
		        name: 'F12',
		        value: '12'
          },
		      {
		        name: 'F13',
		        value: '13'
		      },
		      {
		        name: 'F14',
		        value: '14'
		      },
		      {
		        name: 'F15',
		        value: '15'
		      },
		      {
		        name: 'F16',
		        value: '16'
		      },
		      {
		        name: 'F17',
		        value: '17'
		      },
		      {
		        name: 'F18',
		        value: '18'
		      },
		      {
		        name: 'F19',
		        value: '19'
		      },
		      {
		        name: 'F20',
		        value: '20'
		      },
		      {
		        name: 'F21',
		        value: '21'
		      },
		      {
		        name: 'F22',
		        value: '22'
		      },
		      {
		        name: 'F23',
		        value: '23'
		      },
		      {
		        name: 'F24',
		        value: '24'
		      }
		      ]
			},
		  	{
		    name: 'Numbers',
		    value: '7',
		    subitems: [{
		        name: '0',
		        value: '0'
		      },
		      {
		        name: '1',
		        value: '1'
		      },
		      {
		        name: '2',
		        value: '2'
		      },
		      {
		        name: '3',
		        value: '3'
		      },
		      {
		        name: '4',
		        value: '4'
		      },
		      {
		        name: '5',
		        value: '5'
		      },
		      {
		        name: '6',
		        value: '6'
		      },
		      {
		        name: '7',
		        value: '7'
		      },
		      {
		        name: '8',
		        value: '8'
		      },
		      {
		        name: '9',
		        value: '9'
		      }

		      ]
		  },
		  	{
		    name: 'Special Chars',
		    value: '8',
		    subitems: [{
		        name: '.',
		        value: '.'
		      },
		      {
		        name: ',',
		        value: ','
		      },
		      {
		        name: '!',
		        value: '!'
		      },
		      {
		        name: '?',
		        value: '?'
		      },
		      {
		        name: '/',
		        value: '/'
		      },
		      {
		        name: '+',
		        value: '+'
		      },
		      {
		        name: '-',
		        value: '-'
		      },
		      {
		        name: '&',
		        value: '&'
		      },
		      {
		        name: '^',
		        value: '^'
		      },
		      {
		        name: '%',
		        value: '%'
		      },
		      {
		        name: '*',
		        value: '*'
		      },
		      {
		        name: '#',
		        value: '#'
		      },
		      {
		        name: '$',
		        value: '$'
		      },
		      {
		        name: '[',
		        value: '['
		      },
		      {
		        name: ']',
		        value: ']'
		      }

		      ]
		  },
		  	{
		    name: 'Combos',
		    value: '9',
		    subitems: [{
		        name: 'LEFT CTRL+SHIFT',
		        value: '1'
		      },
		      {
		        name: 'LEFT ALT+SHIFT',
		        value: '2'
		      },
		      {
		        name: 'LEFT GUI+SHIFT',
		        value: '3'
		      },
		      {
		        name: 'LEFT CTRL+GUI',
		        value: '4'
		      },
		      {
		        name: 'LEFT ALT+GUI',
		        value: '5'
		      },
		      {
		        name: 'LEFT CTRL+ALT',
		        value: '6'
		      },
		      {
		        name: 'LEFT CTRL+ALT+GUI',
		        value: '7'
		      },
		      {
		        name: 'RIGHT CTRL+SHIFT',
		        value: '8'
		      },
		      {
		        name: 'RIGHT ALT+SHIFT',
		        value: '9'
		      },
		      {
		        name: 'RIGHT GUI+SHIFT',
		        value: '10'
		      },
		      {
		        name: 'RIGHT CTRL+GUI',
		        value: '11'
		      },
		      {
		        name: 'RIGHT ALT+GUI',
		        value: '12'
		      },
		      {
		        name: 'RIGHT CTRL+ALT',
		        value: '13'
		      },
		      {
		        name: 'RIGHT CTRL+ALT+GUI',
		        value: '14'
		      }

		      ]
		  },
		  	{
		    name: 'Helpers',
		    value: '10',
		    subitems: [{
		        name: 'Helper 1',
		        value: '1'
		      },
		      {
		        name: 'Helper 2',
		        value: '2'
		      },
		      {
		        name: 'Helper 3',
		        value: '3'
		      },
		      {
		        name: 'Helper 4',
		        value: '4'
		      },
		      {
		        name: 'Helper 5',
		        value: '5'
		      },
		      {
		        name: 'Helper 6',
		        value: '6'
		      },
		      {
		        name: 'Helper 7',
		        value: '7'
		      },
		      {
		        name: 'Helper 8',
		        value: '8'
		      },
		      {
		        name: 'Helper 9',
		        value: '9'
		      },
		      {
		        name: 'Helper 10',
		        value: '10'
		      },
		      {
		        name: 'Helper 11',
		        value: '11'
		      }

		      ]
		  },
		  	{
		    name: 'FTD Functions',
		    value: '11',
		    subitems: [{
		        name: 'Config Mode',
		        value: '1'
		      },
		      {
		        name: 'Brightness Up',
		        value: '2'
		      },
		      {
		        name: 'Brightness Down',
		        value: '3'
		      },
		      {
		        name: 'Enable/Disable Sleep',
		        value: '4'
		      }
		      ]
		  	},
		  {
		    name: 'Numpad',
		    value: '12',
		    subitems: [{
		        name: 'Numpad 0',
		        value: '0'
		      },
		      {
		        name: 'Numpad 1',
		        value: '1'
		      },
		      {
		        name: 'Numpad 2',
		        value: '2'
		      },
		      {
		        name: 'Numpad 3',
		        value: '3'
		      },
		      {
		        name: 'Numpad 4',
		        value: '4'
		      },
		      {
		        name: 'Numpad 5',
		        value: '5'
		      },
		      {
		        name: 'Numpad 6',
		        value: '6'
		      },
		      {
		        name: 'Numpad 7',
		        value: '7'
		      },
		      {
		        name: 'Numpad 8',
		        value: '8'
		      },
		      {
		        name: 'Numpad 9',
		        value: '9'
		      },
		      {
		        name: 'Numpad /',
		        value: '10'
		      },
		      {
		        name: 'Numpad *',
		        value: '11'
		      },
		      {
		        name: 'Numpad -',
		        value: '12'
		      },
		      {
		        name: 'Numpad +',
		        value: '13'
		      },
		      {
		        name: 'Numpad RETURN',
		        value: '14'
		      },
		      {
		        name: 'Numpad .',
		        value: '15'
		      }

		      ]
		  	 },
		  	 {
			    name: 'User Actions',
			    value: '13',
			    subitems: [{
			        name: 'Action 1',
			        value: '1'
			      },
			      {
			        name: 'Action 2',
			        value: '2'
			      },
			      {
			        name: 'Action 3',
			        value: '3'
			      },
			      {
			        name: 'Action 4',
			        value: '4'
			      },
			      {
			        name: 'Action 5',
			        value: '5'
			      },
			      {
			        name: 'Action 6',
			        value: '6'
			      },
			      {
			        name: 'Action 7',
			        value: '7'
			      }

			      ]
			  }
		];

	</script>
	
	<!-- Loading button function --->

	<script>
		
		var items = selecteditems.slice(0); // Create a duplicate of the selecteditems array for now

		// Populating Menu buttons
		$(function () {
			var temp = {};
			for (var screenNum = 1; screenNum < 6; screenNum++) {
				for (var buttonNum = 0; buttonNum < 6; buttonNum++) {
					for (var actValNum = 0; actValNum < 3; actValNum++) {

						$.each(items, function () {
							$('<option />')
								.attr('value', this.value)
								.html(this.name)
								.appendTo('#screen' + screenNum + 'button' + buttonNum + 'action' + actValNum);
							temp[this.value] = this.subitems;
						});

						$('#screen' + screenNum + 'button' + buttonNum + 'action' + actValNum)
							.change(function () {
								var value = $(this).val();
								var menu = $("#" + this.name.replace("action", "value"));

								menu.empty();
								$.each(temp[value], function () {
								$('<option />')
									.attr('value', this.value)
									.html(this.name)
									.appendTo(menu);
								});
							})
							.change();
					}
				}
			}
		});

	</script>


	<!-- Load Config data from JSON -->

	<script>

		function createCheck(filename) {
    		return `<input form="delete" type="checkbox" id="${filename}" name="${filename}" value="${filename}"><label for="${filename}"> ${filename}</label><br>`;
		}

		function fillvaluelist(targetNode, srcArray) {

			$('#' + targetNode).html(srcArray.reduce((options, { value, name }) =>
				options += `<option value="${value}">${name}</option>`,
				''));

		}

		function getMenuConfig(index){


			// Load Menu 1
				fetch('config/menu' + index + '.json')
					.then((response) => {
					return response.json()
				})
				.then((data) => {

					document.getElementById("screen" + index + "logo0").add(new Option(data.logo0));
					if(data.button0.latch){
						document.getElementById("screen" + index + "button0latch").checked = true;
					}

					if(data.button0.latchlogo == ""){
						document.getElementById("screen" + index + "latchlogo0").add(new Option("---"));
					}else{
						document.getElementById("screen" + index + "latchlogo0").add(new Option(data.button0.latchlogo));
						document.getElementById("screen" + index + "latchlogo0").add(new Option("---"));
					}

					document.getElementById('screen' + index + 'button0action0').value = data.button0.actionarray[0];
					document.getElementById('screen' + index + 'button0action1').value = data.button0.actionarray[1];
					document.getElementById('screen' + index + 'button0action2').value = data.button0.actionarray[2];
					fillvaluelist("screen" + index + "button0value0", selecteditems[data.button0.actionarray[0]].subitems);
					document.getElementById('screen' + index + 'button0value0').value = data.button0.valuearray[0];
					fillvaluelist("screen" + index + "button0value1", selecteditems[data.button0.actionarray[1]].subitems);
					document.getElementById('screen' + index + 'button0value1').value = data.button0.valuearray[1];
					fillvaluelist("screen" + index + "button0value2", selecteditems[data.button0.actionarray[2]].subitems);
					document.getElementById('screen' + index + 'button0value2').value = data.button0.valuearray[2];

					document.getElementById("screen" + index + "logo1").add(new Option(data.logo1));
					if(data.button1.latch){
						document.getElementById("screen" + index + "button1latch").checked = true;
					}

					if(data.button1.latchlogo == ""){
						document.getElementById("screen" + index + "latchlogo1").add(new Option("---"));
					}else{
						document.getElementById("screen" + index + "latchlogo1").add(new Option(data.button1.latchlogo));
						document.getElementById("screen" + index + "latchlogo1").add(new Option("---"));
					}


					document.getElementById('screen' + index + 'button1action0').value = data.button1.actionarray[0];
					document.getElementById('screen' + index + 'button1action1').value = data.button1.actionarray[1];
					document.getElementById('screen' + index + 'button1action2').value = data.button1.actionarray[2];
					fillvaluelist("screen" + index + "button1value0", selecteditems[data.button1.actionarray[0]].subitems);
					document.getElementById('screen' + index + 'button1value0').value = data.button1.valuearray[0];
					fillvaluelist("screen" + index + "button1value1", selecteditems[data.button1.actionarray[1]].subitems);
					document.getElementById('screen' + index + 'button1value1').value = data.button1.valuearray[1];
					fillvaluelist("screen" + index + "button1value2", selecteditems[data.button1.actionarray[2]].subitems);
					document.getElementById('screen' + index + 'button1value2').value = data.button1.valuearray[2];

					document.getElementById("screen" + index + "logo2").add(new Option(data.logo2));
					if(data.button2.latch){
						document.getElementById("screen" + index + "button2latch").checked = true;
					}

					if(data.button2.latchlogo == ""){
						document.getElementById("screen" + index + "latchlogo2").add(new Option("---"));
					}else{
						document.getElementById("screen" + index + "latchlogo2").add(new Option(data.button2.latchlogo));
						document.getElementById("screen" + index + "latchlogo2").add(new Option("---"));
					}

					document.getElementById('screen' + index + 'button2action0').value = data.button2.actionarray[0];
					document.getElementById('screen' + index + 'button2action1').value = data.button2.actionarray[1];
					document.getElementById('screen' + index + 'button2action2').value = data.button2.actionarray[2];
					fillvaluelist("screen" + index + "button2value0", selecteditems[data.button2.actionarray[0]].subitems);
					document.getElementById('screen' + index + 'button2value0').value = data.button2.valuearray[0];
					fillvaluelist("screen" + index + "button2value1", selecteditems[data.button2.actionarray[1]].subitems);
					document.getElementById('screen' + index + 'button2value1').value = data.button2.valuearray[1];
					fillvaluelist("screen" + index + "button2value2", selecteditems[data.button2.actionarray[2]].subitems);
					document.getElementById('screen' + index + 'button2value2').value = data.button2.valuearray[2];

					document.getElementById("screen" + index + "logo3").add(new Option(data.logo3));
					if(data.button3.latch){
						document.getElementById("screen" + index + "button3latch").checked = true;
					}

					if(data.button3.latchlogo == ""){
						document.getElementById("screen" + index + "latchlogo3").add(new Option("---"));
					}else{
						document.getElementById("screen" + index + "latchlogo3").add(new Option(data.button3.latchlogo));
						document.getElementById("screen" + index + "latchlogo3").add(new Option("---"));
					}

					document.getElementById('screen' + index + 'button3action0').value = data.button3.actionarray[0];
					document.getElementById('screen' + index + 'button3action1').value = data.button3.actionarray[1];
					document.getElementById('screen' + index + 'button3action2').value = data.button3.actionarray[2];
					fillvaluelist("screen" + index + "button3value0", selecteditems[data.button3.actionarray[0]].subitems);
					document.getElementById('screen' + index + 'button3value0').value = data.button3.valuearray[0];
					fillvaluelist("screen" + index + "button3value1", selecteditems[data.button3.actionarray[1]].subitems);
					document.getElementById('screen' + index + 'button3value1').value = data.button3.valuearray[1];
					fillvaluelist("screen" + index + "button3value2", selecteditems[data.button3.actionarray[2]].subitems);
					document.getElementById('screen' + index + 'button3value2').value = data.button3.valuearray[2];

					document.getElementById("screen" + index + "logo4").add(new Option(data.logo4));
					if(data.button4.latch){
						document.getElementById("screen" + index + "button4latch").checked = true;
					}

					if(data.button4.latchlogo == ""){
						document.getElementById("screen" + index + "latchlogo4").add(new Option("---"));
					}else{
						document.getElementById("screen" + index + "latchlogo4").add(new Option(data.button4.latchlogo));
						document.getElementById("screen" + index + "latchlogo4").add(new Option("---"));
					}

					document.getElementById('screen' + index + 'button4action0').value = data.button4.actionarray[0];
					document.getElementById('screen' + index + 'button4action1').value = data.button4.actionarray[1];
					document.getElementById('screen' + index + 'button4action2').value = data.button4.actionarray[2];
					fillvaluelist("screen" + index + "button4value0", selecteditems[data.button4.actionarray[0]].subitems);
					document.getElementById('screen' + index + 'button4value0').value = data.button4.valuearray[0];
					fillvaluelist("screen" + index + "button4value1", selecteditems[data.button4.actionarray[1]].subitems);
					document.getElementById('screen' + index + 'button4value1').value = data.button4.valuearray[1];
					fillvaluelist("screen" + index + "button4value2", selecteditems[data.button4.actionarray[2]].subitems);
					document.getElementById('screen' + index + 'button4value2').value = data.button4.valuearray[2];

					document.getElementById("screen" + index + "logo5").add(new Option("home.bmp"));

				})
				.catch((err) => {
				console.log(err)
				})
		}

		function getlogoconfig(){

			var logolist = []; // Array holding the logos (empty to start)

			var selects = document.getElementsByClassName('images');

			// Loading all the logo's
			fetch('config/homescreen.json')
				.then((response) => {
				return response.json()
			})
			.then((data) => {

				document.getElementById("homescreenlogo0").add(new Option(data.logo0));
				document.getElementById("homescreenlogo1").add(new Option(data.logo1));
				document.getElementById("homescreenlogo2").add(new Option(data.logo2));
				document.getElementById("homescreenlogo3").add(new Option(data.logo3));
				document.getElementById("homescreenlogo4").add(new Option(data.logo4));
				document.getElementById("homescreenlogo5").add(new Option(data.logo5));

			})
			.then((data) => {
				fetch('/list?dir=/logos')
					.then((response3) => {
						return response3.json()
					})
					.then((data3) => {
						var checkboxlist = '<form method="post" id="delete" action="/editor">';
						data3.forEach(obj => {
							Object.entries(obj).forEach(([key, value]) => {
								
								var input = createCheck(value); // Creates the html for the checkbox
        						checkboxlist += input;

							});

						});
						checkboxlist += '<br><button style="cursor: pointer;"" type="save">Delete files</button></form>';
						document.getElementById("deletefilelist").innerHTML = checkboxlist;

					})
					.catch((err) => {
						console.log(err)
					})

			})
			.then((data) => {
				fetch('/info')
					.then((response4) => {
						return response4.json()
					})
					.then((data4) => {
						var divcontent = '';
						data4.forEach(obj => {
							Object.entries(obj).forEach(([key, value]) => {
								
								divcontent += `${key}: ${value}<br>`;
							});

						});
						document.getElementById("infocontent").innerHTML = divcontent;

					})
					.catch((err) => {
						console.log(err)
					})

			})

			.then((data) => {
				fetch('/list?dir=/logos')
					.then((response2) => {
						return response2.json()
					})
					.then((data2) => {
						data2.forEach(obj => {
							Object.entries(obj).forEach(([key, value]) => {
								logolist.push(`${value}`);
								var i = selects.length;
								while (i--) {
									var select = selects[i];
									select.add(new Option(`${value}`, `${value}`));
								}

							});
						});

					})
					.then(() => {
						document.getElementById("contentloading").style.display = "none";
						document.getElementById('ball-loader').style.display = "none";
						document.getElementById("maincontent").style.display = "block";
					})
					.catch((err) => {
						console.log(err)
					})

			})
			.catch((err) => {
				console.log(err)
			})


		}

		// Function to get Sleep settings:
		function getwificonfig(){

				// Load Menu 5
		fetch('config/wificonfig.json')
			.then((response) => {
				return response.json()
			})
			.then((data) => {


			document.getElementById("ssid").value = data.ssid;
			document.getElementById("password").value = data.password;
			document.getElementById("wifimode").value = data.wifimode;
			document.getElementById("wifihostname").value = data.wifihostname;
			document.getElementById("attempts").value = data.attempts;
			document.getElementById("attemptdelay").value = data.attemptdelay;
			

			})
			.catch((err) => {
				console.log(err)
			})
		}

		// Load Colors and then other configs
		fetch('config/general.json')
			.then((response) => {
				return response.json()
			})
			.then((data) => {

				document.getElementById("menubuttoncolor").value = data.menubuttoncolor;
				document.getElementById("functionbuttoncolor").value = data.functionbuttoncolor;
				document.getElementById("latchcolor").value = data.latchcolor;
				document.getElementById("background").value = data.background;
				document.getElementById("sleepenable").value = data.sleepenable;
				document.getElementById("sleeptimer").value = data.sleeptimer;
				document.getElementById("beep").value = data.beep;
				document.getElementById("modifier1").value = data.modifier1;
				document.getElementById("modifier2").value = data.modifier2;
				document.getElementById("modifier3").value = data.modifier3;
				document.getElementById("helperdelay").value = data.helperdelay;

			}).then(() => {
				getwificonfig();
			})
			.then(() => {
				for (var i = 1; i < 6; i++) {
					getMenuConfig(i);
				}
			})
			.then(() => {
				getlogoconfig();
			})
			.catch((err) => {
				console.log(err)
			})

	</script>
</body>

</html>